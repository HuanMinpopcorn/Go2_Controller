<mujoco model="CableAddin">

  <extension>
    <plugin plugin="mujoco.elasticity.cable"/>
  </extension>
  <include file="scene.xml"/>
  <include file="go2.xml"/>
  
  <statistic center="0 0 0" extent="1"/>
  <visual>
    <global elevation="-30"/>
  </visual>

  <!-- <size memory="2M"/> -->

  <worldbody>
    <body name="box" pos="-1 0 0.445">
        <geom type="box" size="0.1 0.1 0.1" mass=".5" rgba="1 0 0 1"/>
        <site name="box_site" pos="0 0 0"/>
        <joint type="free"/>

        <body name="rope" pos="0 0 0">
          <composite type="cable" curve="s" count="51 1 1" size="1" offset="0 0 0" initial="Ball">
            <plugin plugin="mujoco.elasticity.cable">
              <!-- Elasticity properties -->
              <config key="twist" value="1e7"/> 
              <config key="bend" value="4e6"/>
              <config key="vmax" value="0.05"/>
            </plugin>
            <joint kind="main" damping=".015"/>
            <geom type="capsule" size=".005" rgba=".8 .2 .1 1" condim="1"/>
          </composite>
      </body>  
    </body>
  </worldbody>

  <!-- Contact handling -->
  <equality>
    <weld name="rope_to_go2" body1="B_last" body2="base_link" anchor="-.5 0 0"/>
  </equality>
  <contact>
    <exclude body1="rope" body2="box"/>
    <exclude body1="rope" body2="base_link"/>
    <exclude body1="rope" body2="FL_hip"/>
    <exclude body1="rope" body2="FR_hip"/>
    <exclude body1="rope" body2="RL_hip"/>
    <exclude body1="rope" body2="RR_hip"/>
    <exclude body1="rope" body2="FL_thigh"/>
    <exclude body1="rope" body2="FR_thigh"/>
    <exclude body1="rope" body2="RL_thigh"/>
    <exclude body1="rope" body2="RR_thigh"/>

  </contact>
</mujoco>
